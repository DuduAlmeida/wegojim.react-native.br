{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { TRAINING_LIST } from \"./constants\";\nimport { CURRENT_DIVISION, CURRENT_TRAINING } from \"../../constants/storage\";\nimport { useNavigation } from \"@react-navigation/native\";\nexport var useSelectTraining = function useSelectTraining() {\n  var _useNavigation = useNavigation(),\n      navigate = _useNavigation.navigate;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var getList = function () {\n    var _ref = _asyncToGenerator(function* () {\n      return setList(TRAINING_LIST);\n    });\n\n    return function getList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getDivision = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var storageDivision = yield AsyncStorage.getItem(CURRENT_DIVISION);\n      var division = !!storageDivision ? JSON.parse(storageDivision) : null;\n      var text = String(division == null ? void 0 : division.title);\n      if (!division && !text) return {\n        isValid: false\n      };\n      setTitle(text);\n      return {\n        isValid: true\n      };\n    });\n\n    return function getDivision() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var setCurrentTraining = function () {\n    var _ref3 = _asyncToGenerator(function* (training) {\n      AsyncStorage.setItem(CURRENT_TRAINING, JSON.stringify(training));\n    });\n\n    return function setCurrentTraining(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getList();\n  }, []);\n  useEffect(function () {\n    getDivision().then(function (_ref4) {\n      var isValid = _ref4.isValid;\n      if (!isValid) return navigate(\"SelectDivisions\");\n    });\n  }, []);\n  return {\n    list: list,\n    title: title,\n    setCurrentTraining: setCurrentTraining\n  };\n};","map":{"version":3,"names":["useEffect","useState","AsyncStorage","TRAINING_LIST","CURRENT_DIVISION","CURRENT_TRAINING","useNavigation","useSelectTraining","navigate","list","setList","title","setTitle","getList","getDivision","storageDivision","getItem","division","JSON","parse","text","String","isValid","setCurrentTraining","training","setItem","stringify","then"],"sources":["C:/Users/enzor/Desktop/wegojim/src/screens/SelectTraining/hooks.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nimport { TRAINING_LIST } from \"./constants\";\r\n\r\nimport { CURRENT_DIVISION, CURRENT_TRAINING } from \"../../constants/storage\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\n\r\nexport const useSelectTraining = () => {\r\n  const { navigate } = useNavigation<any>();\r\n  const [list, setList] = useState<any[]>([]);\r\n  const [title, setTitle] = useState<string>(\"\");\r\n\r\n  const getList = async () => setList(TRAINING_LIST);\r\n\r\n  const getDivision = async () => {\r\n    const storageDivision = await AsyncStorage.getItem(CURRENT_DIVISION);\r\n    const division = !!storageDivision ? JSON.parse(storageDivision) : null;\r\n    const text = String(division?.title);\r\n\r\n    if (!division && !text) return { isValid: false };\r\n\r\n    setTitle(text);\r\n\r\n    return { isValid: true };\r\n  };\r\n\r\n  const setCurrentTraining = async (training: any) => {\r\n    AsyncStorage.setItem(CURRENT_TRAINING, JSON.stringify(training));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getDivision().then(({ isValid }) => {\r\n      if (!isValid) return navigate(\"SelectDivisions\");\r\n    });\r\n  }, []);\r\n\r\n  return {\r\n    list,\r\n    title,\r\n    setCurrentTraining,\r\n  };\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,SAASC,aAAT;AAEA,SAASC,gBAAT,EAA2BC,gBAA3B;AACA,SAASC,aAAT,QAA8B,0BAA9B;AAGA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EACrC,qBAAqBD,aAAa,EAAlC;EAAA,IAAQE,QAAR,kBAAQA,QAAR;;EACA,gBAAwBP,QAAQ,CAAQ,EAAR,CAAhC;EAAA;EAAA,IAAOQ,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAA0BT,QAAQ,CAAS,EAAT,CAAlC;EAAA;EAAA,IAAOU,KAAP;EAAA,IAAcC,QAAd;;EAEA,IAAMC,OAAO;IAAA,6BAAG;MAAA,OAAYH,OAAO,CAACP,aAAD,CAAnB;IAAA,CAAH;;IAAA,gBAAPU,OAAO;MAAA;IAAA;EAAA,GAAb;;EAEA,IAAMC,WAAW;IAAA,8BAAG,aAAY;MAC9B,IAAMC,eAAe,SAASb,YAAY,CAACc,OAAb,CAAqBZ,gBAArB,CAA9B;MACA,IAAMa,QAAQ,GAAG,CAAC,CAACF,eAAF,GAAoBG,IAAI,CAACC,KAAL,CAAWJ,eAAX,CAApB,GAAkD,IAAnE;MACA,IAAMK,IAAI,GAAGC,MAAM,CAACJ,QAAD,oBAACA,QAAQ,CAAEN,KAAX,CAAnB;MAEA,IAAI,CAACM,QAAD,IAAa,CAACG,IAAlB,EAAwB,OAAO;QAAEE,OAAO,EAAE;MAAX,CAAP;MAExBV,QAAQ,CAACQ,IAAD,CAAR;MAEA,OAAO;QAAEE,OAAO,EAAE;MAAX,CAAP;IACD,CAVgB;;IAAA,gBAAXR,WAAW;MAAA;IAAA;EAAA,GAAjB;;EAYA,IAAMS,kBAAkB;IAAA,8BAAG,WAAOC,QAAP,EAAyB;MAClDtB,YAAY,CAACuB,OAAb,CAAqBpB,gBAArB,EAAuCa,IAAI,CAACQ,SAAL,CAAeF,QAAf,CAAvC;IACD,CAFuB;;IAAA,gBAAlBD,kBAAkB;MAAA;IAAA;EAAA,GAAxB;;EAIAvB,SAAS,CAAC,YAAM;IACda,OAAO;EACR,CAFQ,EAEN,EAFM,CAAT;EAIAb,SAAS,CAAC,YAAM;IACdc,WAAW,GAAGa,IAAd,CAAmB,iBAAiB;MAAA,IAAdL,OAAc,SAAdA,OAAc;MAClC,IAAI,CAACA,OAAL,EAAc,OAAOd,QAAQ,CAAC,iBAAD,CAAf;IACf,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAMA,OAAO;IACLC,IAAI,EAAJA,IADK;IAELE,KAAK,EAALA,KAFK;IAGLY,kBAAkB,EAAlBA;EAHK,CAAP;AAKD,CAtCM"},"metadata":{},"sourceType":"module"}